<%= bootstrap_form_for @application_key, local: true, :html => {:onsubmit => "show_spiner()"} do |form| %>
  <h1><%= @form_title %></h1>
  <div class="form-group" style="text-align:left">
    <%= form.alert_message "Please fix the errors below." %>
  </div>

  <div class="form-group">
    <%= form.text_field :name, required:true %>
  </div>

  <div class="form-group">
    <%= form.collection_check_boxes :promotions, @promotions || [], :id, :name, checked: @promotions&.filter{|p| @in_appkey&.include? p.id} do |b| %>
      <div class="collection-check-box">
        <%= b.check_box %>
        <%= b.label %>
      </div>
    <% end %>
  </div>

    <div class="sk-folding-cube" id='spiner' style="display:none">
    <div class="sk-cube1 sk-cube"></div>
    <div class="sk-cube2 sk-cube"></div>
    <div class="sk-cube4 sk-cube"></div>
    <div class="sk-cube3 sk-cube"></div>  
    </div>
  <div class="actions">
    <div id="submit_form_container">
      <%= form.submit class: "btn btn-primary" %>
    </div>

  </div>

  <div style="display:block;margin:10px auto;width:fit-content" onclick='show_spiner();'><%= link_to 'Back', application_keys_path %></div>
<% end %>
